epmsmail {
    app {
        tenants = [
            "myeeg"
        ]
    }
    mail {
#         imap {
#             server = localhost
#             port = 9005
#             user = username
#             password = password
#         }
        inbox = "./inbox"
        myeeg {
            domain = "email.com"
            javaxmail {
                mail {
                    transport.protocol.rfc822 = "mocked"
                    ssl.enable = false
                    store.protocol = "imap"
                    imap {
                        host = "email.com"
                        class = "org.jvnet.mock_javamail.MockStore"
                    }
                    mocked {
                        class = "org.jvnet.mock_javamail.MockTransport"
                    }
                }
            }
            authenticator {
                username = "sepp"
                password = "password"
            }
        }
        email.com {
            javaxmail {
                mail {
                    transport.protocol.rfc822 = "mocked"
                    ssl.enable = false
                    store.protocol = "imap"
                    imap {
                        host = "email.com"
                        class = "org.jvnet.mock_javamail.MockStore"
                    }
                    mocked {
                        class = "org.jvnet.mock_javamail.MockTransport"
                    }
                }
            }
        }
    }
    mqtt {
        url = "tcp://localhost:1883"
        topic = "eda/request"
        qos = 1
        consumer-id = "edash-mqtt-client"
        topics {
            energyTopic = "eda/response/energy"
            cmTopic = "eda/response/cm"
            cpTopic = "eda/response/cp"
        }
    }
}

akka {
  persistence.journal.plugin = "akka.persistence.journal.leveldb"
  persistence.snapshot-store.plugin = "akka.persistence.snapshot-store.local"

  persistence.journal.leveldb.dir = "storage/test/journal"
  akka.persistence.snapshot-store.local.dir = "storage/test/snapshots"

  akka.persistence.journal.leveldb.native = false

  actor {
    serialization-bindings {
      "at.energydash.actor.CborSerializable" = jackson-cbor
    }
  }
  test.single-expect-default = "300 seconds"
}